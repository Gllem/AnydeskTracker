@{
    Layout = "_Layout";
    ViewData["Title"] = "Пользователи";
}

<div class="p-3">
    <h2>Пользователи</h2>
    <div id="users" class="d-flex flex-wrap gap-3 mt-3"></div>
</div>

<script>
    async function loadUsers() {
        const res = await fetch("/api/admin/users");
        if (!res.ok) return alert("Ошибка загрузки списка пользователей");
        const data = await res.json();

        const container = document.getElementById("users");
        container.innerHTML = "";

        data.forEach(user => {
            const div = document.createElement("div");
            div.className = "btn p-3 btn-primary";
            div.innerHTML = `<strong>${user.userName}</strong>`;
            div.onclick = async () => {
                window.location.href = `/Admin/User/${user.userId}`;
            };
            container.appendChild(div);
        });
    }

    loadUsers();
</script>
